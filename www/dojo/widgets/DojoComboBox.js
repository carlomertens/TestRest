egl.defineWidget("dojo.widgets","DojoComboBox","dojo.widgets","DojoBase","select",{"constructor":function(){
dojo.require("dijit.form.ComboBox");
this.pageSize=-1;
this.holder=null;
this.eze$$DOMElement.style.display="none";
this.isBidi=false;
this.isFocused=false;
this.editable=true;
},"createDojoWidget":function(_1){
this.setBiDiMarkers();
this.parent=_1;
this.runEventHandlers=function(){
};
var _2=this;
if(!this.holder){
this.holder=_1.parentNode;
}else{
if(!_1.parentNode){
this.holder.appendChild(_1);
}
}
if(this.data){
for(var n=0;n<this.data.length;n++){
egl.createChild(this.eze$$DOMElement,"option").innerHTML=this.data[n];
}
}
this._mergeArgs({value:this.value==undefined?this.data[0]:this.value,autoComplete:false,selectOnClick:true,disabled:this.disabled||false,onChange:function(){
if(egl.IE){
setTimeout(function(){
_2._handleChange();
},1);
}else{
_2._handleChange();
}
}});
this._args.onBlur=function(){
_2.isFocused=false;
egl.egl.ui.rui.RUILib.$inst.setTextSelectionEnabled(false);
_2.handleEvent(_2.getOnFocusLost(),"onFocusLost",null);
};
this._args.onFocus=function(){
if(egl.IE){
setTimeout(function(){
_2._handleFocus();
dijit.selectInputText(_2.dojoWidget.textbox);
},1);
}else{
_2._handleFocus();
}
};
this._args.onMouseDown=function(e){
egl.egl.ui.rui.RUILib.$inst.setTextSelectionEnabled(true);
_2.handleEvent(_2.getOnMouseDown(),"onMouseDown",e);
};
if(this.pageSize!=-1){
this._args.pageSize=this.pageSize;
}
if(this.isBidi==false){
this.dojoWidget=new dijit.form.ComboBox(this._args,_1);
}else{
this._args.isVisualMode=this.textLayoutThis=="Visual";
if(this.widgetOrientationThis=="rtl"){
this._args.dir="rtl";
}else{
this._args.dir="ltr";
}
dojo.require("bidi.ComboBoxVisBidi");
this.dojoWidget=new bidi.ComboBoxVisBidi(this._args,_1);
}
this.eze$$DOMElement.style.display="inline-block";
if(this.isFocused){
dijit.selectInputText(this.dojoWidget.textbox);
}
this.setEditable(this.editable);
if(egl.IE&&egl.IEVersion<=7&&this.fontWeight){
this.setFontWeight(this.fontWeight);
}
if(egl.IE&&egl.IEVersion==8&&this.opacity){
this.setOpacity(this.opacity);
}
},"_handleChange":function(){
this.value=this.dojoWidget.getValue();
this.handleEvent(this.getOnChange(),"onChange",null);
if(this.isFocused){
dijit.selectInputText(this.dojoWidget.textbox);
}
},"_handleFocus":function(){
this.isFocused=true;
egl.egl.ui.rui.RUILib.$inst.setTextSelectionEnabled(true);
this.handleEvent(this.getOnFocusGained(),"onFocusGained",null);
},"setFontWeight":function(_5){
egl.egl.ui.rui.Widget.prototype.setFontWeight.call(this,_5);
this.fontWeight=_5;
if(egl.IE&&egl.IEVersion<=7&&this.dojoWidget){
this.dojoWidget.textbox.style.fontWeight=_5;
}
},"setOpacity":function(_6){
egl.egl.ui.rui.Widget.prototype.setOpacity.call(this,_6);
this.opacity=_6;
if(egl.IE&&egl.IEVersion==8&&this.dojoWidget){
this.dojoWidget.textbox.style.opacity=_6;
this.dojoWidget.textbox.style.filter=(_6>=0.9)?"''":"alpha(opacity="+(100*_6)+")";
}
},"setValue":function(_7){
this.value=_7;
if(this.dojoWidget){
this.dojoWidget.setValue(_7);
}
},"getValue":function(){
return this.value;
},"setValues":function(_8){
if(this.eze$$DOMElement.tagName.toLowerCase()!="select"){
var _9=this.eze$$DOMElement.parentNode;
this.eze$$DOMElement=egl.createChild(_9,"select");
this.values=null;
this.value=null;
}
this.eze$$DOMElement.style.display="none";
if(this.values){
this.values.length=_8.length;
for(var i=0;i<_8.length;i++){
this.values[i]=_8[i];
this.data[i]=_8[i];
}
if(this.isFocused&&this.dojoWidget){
dijit.selectInputText(this.dojoWidget.textbox);
}
}else{
this.values=_8;
this.setData(this.values);
}
},"getValues":function(){
return this.values;
},"setEditable":function(_b){
this.editable=_b;
if(this.dojoWidget){
this.dojoWidget.textbox.readOnly=!_b;
}
},"getEditable":function(){
return this.editable;
},"setDisabled":function(_c){
this._setProperty("disabled","disabled",_c);
},"getDisabled":function(){
return this._getProperty("disabled","disabled");
},"setReverseTextDirection":function(_d){
},"setBiDiMarkers":function(){
if(this.isBidi==false){
if(this.reverseTextDirectionThis=="Yes"||this.widgetOrientationThis=="rtl"||this.textLayoutThis=="Visual"){
this.isBidi=true;
}
}else{
if(this.isBidi==true&&this.dojoWidget){
this.eze$$DOMElement.removeChild(this.dojoWidget);
this.createDojoWidget(this.parent);
}
}
},"setValueAsText":function(_e){
this.setValue(_e);
},"getValueAsText":function(){
return (this.getValue());
}});
